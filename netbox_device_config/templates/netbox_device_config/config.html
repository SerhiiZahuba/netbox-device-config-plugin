{% load static %}
<link rel="stylesheet" href="{% static 'netbox_device_config/css/style.css' %}">

{% extends 'base.html' %}
{% load static %}
{% block content %}
<h2>Device: {{ device.name }}</h2>

<form method="post">
    {% csrf_token %}
    <button type="submit" class="btn btn-primary">üîÑ –ó–∞–±—Ä–∞—Ç–∏ –Ω–æ–≤–∏–π –∫–æ–Ω—Ñ—ñ–≥</button>
    <a href="{% url 'plugins:netbox_device_config:config_history' device.id %}" class="btn btn-secondary">üìú History</a>
</form>

{% if messages %}
<div class="mt-3">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}

{% if config_data %}
<h4 class="mt-4">–ù–æ–≤–∏–π –∫–æ–Ω—Ñ—ñ–≥:</h4>
<pre style="background:#f8f9fa; padding:10px;">{{ config_data }}</pre>
{% elif latest_config %}
<h4 class="mt-4">–û—Å—Ç–∞–Ω–Ω—ñ–π –∫–æ–Ω—Ñ—ñ–≥ ({{ latest_config.created_at }})</h4>
<pre style="background:#f8f9fa; padding:10px;">{{ latest_config.config }}</pre>
{% else %}
<p class="mt-4">–©–µ –Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –∂–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ñ—ñ–≥—É.</p>
{% endif %}
{% endblock %}
